{"uid":"264ad44137fa9c2b","name":"test_sideoverlap_plates_li1_m1","fullName":"tests.rcx25.rcx25_test#test_sideoverlap_plates_li1_m1","historyId":"703df181b5af5fd19a89acee972743d4","time":{"start":1756804874910,"stop":1756804875202,"duration":292},"status":"broken","statusMessage":"RuntimeError: Unable to open file: /home/runner/work/klayout-pex/klayout-pex/output_sky130A/sideoverlap_plates_li1_m1__sideoverlap_plates_li1_m1//sideoverlap_plates_li1_m1.lvsdb.gz (errno=2) in LayoutVsSchematic.read","statusTrace":"@allure.parent_suite(parent_suite)\n    @allure.tag(*tags)\n    @pytest.mark.slow\n    @pytest.mark.wip\n    def test_sideoverlap_plates_li1_m1():\n        # MAGIC GIVES (8.3 revision 485): (sorting changed to match order)\n        # _______________________________ NOTE: with halo=50µm __________________________________\n        # C15 LOWER_NoHaloOverlap_InsideTop VSUBS 51.9938f\n        # C12 LOWER_OutsideHalo VSUBS 73.274605f\n        # C17 LOWER_PartialSideHaloOverlap_Separated VSUBS 90.6184f\n        # C13 LOWER_PartialSideHaloOverlap_BothSides_separated VSUBS 7.93086f\n        # C14 LOWER_PartialSideHaloOverlap_Touching VSUBS 13.637f\n        # C16 LOWER_FullHaloOverlap VSUBS 0.177602p\n        # C11 UPPER VSUBS 0.214853p\n        # C8 LOWER_NoHaloOverlap_InsideTop UPPER 0.146991p\n        # C7 LOWER_PartialSideHaloOverlap_Touching UPPER 32.1587f\n        # C10 LOWER_FullHaloOverlap UPPER 0.262817p\n        # C3 LOWER_FullHaloOverlap LOWER_NoHaloOverlap_InsideTop 0.12574f\n        # C2 LOWER_NoHaloOverlap_InsideTop LOWER_PartialSideHaloOverlap_Touching 0.063307f\n        # C9 LOWER_NoHaloOverlap_InsideTop LOWER_OutsideHalo 0.06287f\n        # C1 LOWER_FullHaloOverlap LOWER_OutsideHalo 0.100592f\n        # C4 LOWER_PartialSideHaloOverlap_Separated LOWER_FullHaloOverlap 0.248054f\n        # C5 LOWER_OutsideHalo UPPER 0.076223f\n        # C6 LOWER_PartialSideHaloOverlap_BothSides_separated UPPER 0.261432f\n        # C0 LOWER_PartialSideHaloOverlap_Separated UPPER 0.148834f\n        #\n    \n>       assert_expected_matches_obtained(\n            'test_patterns', 'sideoverlap_plates_li1_m1.gds.gz',\n            expected_csv_content=\"\"\"Device;Net1;Net2;Capacitance [fF];Resistance [Ω]\n    C1;LOWER_FullHaloOverlap;LOWER_NoHaloOverlap_InsideTop;0.126;\n    C2;LOWER_FullHaloOverlap;LOWER_OutsideHalo;0.101;\n    C3;LOWER_FullHaloOverlap;LOWER_PartialSideHaloOverlap_BothSides_separated;0.001;\n    C4;LOWER_FullHaloOverlap;LOWER_PartialSideHaloOverlap_Separated;0.248;\n    C5;LOWER_FullHaloOverlap;UPPER;262.817;\n    C6;LOWER_FullHaloOverlap;VSUBS;177.601;\n    C7;LOWER_NoHaloOverlap_InsideTop;LOWER_OutsideHalo;0.063;\n    C8;LOWER_NoHaloOverlap_InsideTop;LOWER_PartialSideHaloOverlap_Touching;0.063;\n    C9;LOWER_NoHaloOverlap_InsideTop;UPPER;146.991;\n    C10;LOWER_NoHaloOverlap_InsideTop;VSUBS;51.994;\n    C11;LOWER_OutsideHalo;UPPER;0.076;\n    C12;LOWER_OutsideHalo;VSUBS;73.274;\n    C13;LOWER_PartialSideHaloOverlap_BothSides_separated;UPPER;0.261;\n    C14;LOWER_PartialSideHaloOverlap_BothSides_separated;VSUBS;7.931;\n    C15;LOWER_PartialSideHaloOverlap_Separated;UPPER;0.149;\n    C16;LOWER_PartialSideHaloOverlap_Separated;VSUBS;90.618;\n    C17;LOWER_PartialSideHaloOverlap_Touching;UPPER;32.159;\n    C18;LOWER_PartialSideHaloOverlap_Touching;VSUBS;13.637;\n    C19;UPPER;VSUBS;214.85;\"\"\"\n            )\n\ntests/rcx25/rcx25_test.py:406: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/rcx25/rcx25_test.py:108: in assert_expected_matches_obtained\n    result, csv, preview_png = _run_rcx25d_single_cell(*path_components)\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/rcx25/rcx25_test.py:92: in _run_rcx25d_single_cell\n    cli.main(['main',\nklayout_pex/kpex_cli.py:869: in main\n    lvsdb = self.create_lvsdb(args)\n            ^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <klayout_pex.kpex_cli.KpexCLI object at 0x7f56c8d6f140>\nargs = Namespace(log_level=<LogLevel.SUBPROCESS: 12>, num_threads=16, pdk=<PDK.SKY130A: 'sky130A'>, output_dir_base_path='/ho...x/output_sky130A/sideoverlap_plates_li1_m1__sideoverlap_plates_li1_m1/sideoverlap_plates_li1_m1_dummy_schematic.spice')\n\n    def create_lvsdb(self, args: argparse.Namespace) -> kdb.LayoutVsSchematic:\n        lvsdb = kdb.LayoutVsSchematic()\n    \n        match args.input_mode:\n            case InputMode.LVSDB:\n                lvsdb.read(args.lvsdb_path)\n            case InputMode.GDS:\n                lvs_log_path = os.path.join(args.output_dir_path, f\"{args.effective_cell_name}_lvs.log\")\n                lvsdb_path = os.path.join(args.output_dir_path, f\"{args.effective_cell_name}.lvsdb.gz\")\n                lvsdb_cache_path = os.path.join(args.cache_dir_path, args.pdk,\n                                                os.path.splitroot(os.path.abspath(args.gds_path))[-1],\n                                                f\"{args.effective_cell_name}.lvsdb.gz\")\n    \n                lvs_needed = True\n    \n                if args.cache_lvs:\n                    if not os.path.exists(lvsdb_cache_path):\n                        info(f\"Cache miss: extracted LVSDB does not exist\")\n                        subproc(lvsdb_cache_path)\n                    elif self.modification_date(lvsdb_cache_path) <= self.modification_date(args.gds_path):\n                        info(f\"Cache miss: extracted LVSDB is older than the input GDS\")\n                        subproc(lvsdb_cache_path)\n                    else:\n                        warning(f\"Cache hit: Reusing cached LVSDB\")\n                        subproc(lvsdb_cache_path)\n                        lvs_needed = False\n    \n                if lvs_needed:\n                    lvs_runner = LVSRunner()\n                    lvs_runner.run_klayout_lvs(exe_path=args.klayout_exe_path,\n                                               lvs_script=args.lvs_script_path,\n                                               gds_path=args.effective_gds_path,\n                                               schematic_path=args.effective_schematic_path,\n                                               log_path=lvs_log_path,\n                                               lvsdb_path=lvsdb_path,\n                                               verbose=args.klayout_lvs_verbose)\n                    if args.cache_lvs:\n                        cache_dir_path = os.path.dirname(lvsdb_cache_path)\n                        if not os.path.exists(cache_dir_path):\n                            os.makedirs(cache_dir_path, exist_ok=True)\n                        shutil.copy(lvsdb_path, lvsdb_cache_path)\n    \n>               lvsdb.read(lvsdb_path)\nE               RuntimeError: Unable to open file: /home/runner/work/klayout-pex/klayout-pex/output_sky130A/sideoverlap_plates_li1_m1__sideoverlap_plates_li1_m1//sideoverlap_plates_li1_m1.lvsdb.gz (errno=2) in LayoutVsSchematic.read\n\nklayout_pex/kpex_cli.py:837: RuntimeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"RuntimeError: Unable to open file: /home/runner/work/klayout-pex/klayout-pex/output_sky130A/sideoverlap_plates_li1_m1__sideoverlap_plates_li1_m1//sideoverlap_plates_li1_m1.lvsdb.gz (errno=2) in LayoutVsSchematic.read","statusTrace":"@allure.parent_suite(parent_suite)\n    @allure.tag(*tags)\n    @pytest.mark.slow\n    @pytest.mark.wip\n    def test_sideoverlap_plates_li1_m1():\n        # MAGIC GIVES (8.3 revision 485): (sorting changed to match order)\n        # _______________________________ NOTE: with halo=50µm __________________________________\n        # C15 LOWER_NoHaloOverlap_InsideTop VSUBS 51.9938f\n        # C12 LOWER_OutsideHalo VSUBS 73.274605f\n        # C17 LOWER_PartialSideHaloOverlap_Separated VSUBS 90.6184f\n        # C13 LOWER_PartialSideHaloOverlap_BothSides_separated VSUBS 7.93086f\n        # C14 LOWER_PartialSideHaloOverlap_Touching VSUBS 13.637f\n        # C16 LOWER_FullHaloOverlap VSUBS 0.177602p\n        # C11 UPPER VSUBS 0.214853p\n        # C8 LOWER_NoHaloOverlap_InsideTop UPPER 0.146991p\n        # C7 LOWER_PartialSideHaloOverlap_Touching UPPER 32.1587f\n        # C10 LOWER_FullHaloOverlap UPPER 0.262817p\n        # C3 LOWER_FullHaloOverlap LOWER_NoHaloOverlap_InsideTop 0.12574f\n        # C2 LOWER_NoHaloOverlap_InsideTop LOWER_PartialSideHaloOverlap_Touching 0.063307f\n        # C9 LOWER_NoHaloOverlap_InsideTop LOWER_OutsideHalo 0.06287f\n        # C1 LOWER_FullHaloOverlap LOWER_OutsideHalo 0.100592f\n        # C4 LOWER_PartialSideHaloOverlap_Separated LOWER_FullHaloOverlap 0.248054f\n        # C5 LOWER_OutsideHalo UPPER 0.076223f\n        # C6 LOWER_PartialSideHaloOverlap_BothSides_separated UPPER 0.261432f\n        # C0 LOWER_PartialSideHaloOverlap_Separated UPPER 0.148834f\n        #\n    \n>       assert_expected_matches_obtained(\n            'test_patterns', 'sideoverlap_plates_li1_m1.gds.gz',\n            expected_csv_content=\"\"\"Device;Net1;Net2;Capacitance [fF];Resistance [Ω]\n    C1;LOWER_FullHaloOverlap;LOWER_NoHaloOverlap_InsideTop;0.126;\n    C2;LOWER_FullHaloOverlap;LOWER_OutsideHalo;0.101;\n    C3;LOWER_FullHaloOverlap;LOWER_PartialSideHaloOverlap_BothSides_separated;0.001;\n    C4;LOWER_FullHaloOverlap;LOWER_PartialSideHaloOverlap_Separated;0.248;\n    C5;LOWER_FullHaloOverlap;UPPER;262.817;\n    C6;LOWER_FullHaloOverlap;VSUBS;177.601;\n    C7;LOWER_NoHaloOverlap_InsideTop;LOWER_OutsideHalo;0.063;\n    C8;LOWER_NoHaloOverlap_InsideTop;LOWER_PartialSideHaloOverlap_Touching;0.063;\n    C9;LOWER_NoHaloOverlap_InsideTop;UPPER;146.991;\n    C10;LOWER_NoHaloOverlap_InsideTop;VSUBS;51.994;\n    C11;LOWER_OutsideHalo;UPPER;0.076;\n    C12;LOWER_OutsideHalo;VSUBS;73.274;\n    C13;LOWER_PartialSideHaloOverlap_BothSides_separated;UPPER;0.261;\n    C14;LOWER_PartialSideHaloOverlap_BothSides_separated;VSUBS;7.931;\n    C15;LOWER_PartialSideHaloOverlap_Separated;UPPER;0.149;\n    C16;LOWER_PartialSideHaloOverlap_Separated;VSUBS;90.618;\n    C17;LOWER_PartialSideHaloOverlap_Touching;UPPER;32.159;\n    C18;LOWER_PartialSideHaloOverlap_Touching;VSUBS;13.637;\n    C19;UPPER;VSUBS;214.85;\"\"\"\n            )\n\ntests/rcx25/rcx25_test.py:406: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/rcx25/rcx25_test.py:108: in assert_expected_matches_obtained\n    result, csv, preview_png = _run_rcx25d_single_cell(*path_components)\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/rcx25/rcx25_test.py:92: in _run_rcx25d_single_cell\n    cli.main(['main',\nklayout_pex/kpex_cli.py:869: in main\n    lvsdb = self.create_lvsdb(args)\n            ^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <klayout_pex.kpex_cli.KpexCLI object at 0x7f56c8d6f140>\nargs = Namespace(log_level=<LogLevel.SUBPROCESS: 12>, num_threads=16, pdk=<PDK.SKY130A: 'sky130A'>, output_dir_base_path='/ho...x/output_sky130A/sideoverlap_plates_li1_m1__sideoverlap_plates_li1_m1/sideoverlap_plates_li1_m1_dummy_schematic.spice')\n\n    def create_lvsdb(self, args: argparse.Namespace) -> kdb.LayoutVsSchematic:\n        lvsdb = kdb.LayoutVsSchematic()\n    \n        match args.input_mode:\n            case InputMode.LVSDB:\n                lvsdb.read(args.lvsdb_path)\n            case InputMode.GDS:\n                lvs_log_path = os.path.join(args.output_dir_path, f\"{args.effective_cell_name}_lvs.log\")\n                lvsdb_path = os.path.join(args.output_dir_path, f\"{args.effective_cell_name}.lvsdb.gz\")\n                lvsdb_cache_path = os.path.join(args.cache_dir_path, args.pdk,\n                                                os.path.splitroot(os.path.abspath(args.gds_path))[-1],\n                                                f\"{args.effective_cell_name}.lvsdb.gz\")\n    \n                lvs_needed = True\n    \n                if args.cache_lvs:\n                    if not os.path.exists(lvsdb_cache_path):\n                        info(f\"Cache miss: extracted LVSDB does not exist\")\n                        subproc(lvsdb_cache_path)\n                    elif self.modification_date(lvsdb_cache_path) <= self.modification_date(args.gds_path):\n                        info(f\"Cache miss: extracted LVSDB is older than the input GDS\")\n                        subproc(lvsdb_cache_path)\n                    else:\n                        warning(f\"Cache hit: Reusing cached LVSDB\")\n                        subproc(lvsdb_cache_path)\n                        lvs_needed = False\n    \n                if lvs_needed:\n                    lvs_runner = LVSRunner()\n                    lvs_runner.run_klayout_lvs(exe_path=args.klayout_exe_path,\n                                               lvs_script=args.lvs_script_path,\n                                               gds_path=args.effective_gds_path,\n                                               schematic_path=args.effective_schematic_path,\n                                               log_path=lvs_log_path,\n                                               lvsdb_path=lvsdb_path,\n                                               verbose=args.klayout_lvs_verbose)\n                    if args.cache_lvs:\n                        cache_dir_path = os.path.dirname(lvsdb_cache_path)\n                        if not os.path.exists(cache_dir_path):\n                            os.makedirs(cache_dir_path, exist_ok=True)\n                        shutil.copy(lvsdb_path, lvsdb_cache_path)\n    \n>               lvsdb.read(lvsdb_path)\nE               RuntimeError: Unable to open file: /home/runner/work/klayout-pex/klayout-pex/output_sky130A/sideoverlap_plates_li1_m1__sideoverlap_plates_li1_m1//sideoverlap_plates_li1_m1.lvsdb.gz (errno=2) in LayoutVsSchematic.read\n\nklayout_pex/kpex_cli.py:837: RuntimeError","steps":[],"attachments":[{"uid":"6b6f6bbbdb51ad71","name":"log","source":"6b6f6bbbdb51ad71.txt","type":"text/plain","size":810},{"uid":"57d087a8810524cd","name":"stdout","source":"57d087a8810524cd.txt","type":"text/plain","size":1508}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"2.5D"},{"name":"parentSuite","value":"kpex/2.5D Extraction Tests"},{"name":"tag","value":"MAGIC"},{"name":"tag","value":"PEX"},{"name":"tag","value":"wip"},{"name":"tag","value":"slow"},{"name":"suite","value":"rcx25_test"},{"name":"host","value":"pkrvmccyg1gnepe"},{"name":"thread","value":"3401-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.rcx25.rcx25_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["PEX","slow","MAGIC","2.5D","wip"]},"source":"264ad44137fa9c2b.json","parameterValues":[]}